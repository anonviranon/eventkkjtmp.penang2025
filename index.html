<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Dashboard</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- iOS Mirror Finish Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* A very light gray, almost white */
            position: relative;
            overflow-x: hidden;
        }

        /* Blurred gradient background for depth */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(63, 94, 251, 0.1), rgba(252, 70, 107, 0.1), transparent 40%);
            filter: blur(100px);
            z-index: -1;
            animation: background-pan 30s linear infinite;
        }

        @keyframes background-pan {
            0% { transform: translate(10%, 10%); }
            25% { transform: translate(-10%, 10%); }
            50% { transform: translate(-10%, -10%); }
            75% { transform: translate(10%, -10%); }
            100% { transform: translate(10%, 10%); }
        }

        .main-container {
            max-width: 800px;
            margin: 0 auto;
            /* Further increased padding-bottom for more space above the footer */
            padding-bottom: 320px; 
        }
        
        /* Frosted glass effect for components */
        .frosted-glass {
            background-color: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(209, 213, 219, 0.3);
        }

        /* Accordion styles */
        .accordion-item {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0, 1, 0, 1), padding 0.3s ease-in-out;
        }
        .accordion-content.open {
            max-height: 1000px; /* A large enough value */
            transition: max-height 1s cubic-bezier(1, 0, 1, 0), padding 0.3s ease-in-out;
        }

        /* Modal styles */
        .modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* Glowing effect for the button */
        @keyframes glowing {
            0% { box-shadow: 0 0 5px #ec4899, 0 0 10px #ec4899; }
            50% { box-shadow: 0 0 20px #ec4899, 0 0 30px #ec4899; }
            100% { box-shadow: 0 0 5px #ec4899, 0 0 10px #ec4899; }
        }
        .glowing-button {
            animation: glowing 2.5s infinite;
        }
    </style>
</head>
<body class="antialiased text-gray-800">

    <!-- Main Content Container -->
    <div class="main-container p-4 md:p-6">

        <!-- Header: Logo and Title -->
        <header class="text-center py-8">
            <img src="assets/kkjmp.png" alt="Event Logo" class="mx-auto h-20 w-auto" onerror="this.onerror=null;this.src='https://placehold.co/100x80/e2e8f0/333?text=Logo';">
            <h1 class="text-2xl font-bold text-gray-900 mt-4">PROGRAM LATIHAN DAN STRATEGI & SOLIDARITI</h1>
            <p class="text-lg text-gray-600 mt-2">MEMPERKUAT KESATUAN UNTUK MASA DEPAN</p>
        </header>

        <!-- Accordion Section for Subjects -->
        <main class="space-y-4 mt-8">
            <!-- Accordion Item 1 -->
            <div class="accordion-item frosted-glass rounded-xl overflow-hidden">
                <button class="accordion-header w-full flex justify-between items-center p-5 text-left">
                    <h2 class="text-xl font-semibold text-gray-800">Mesyuarat Agong Dwi Tahunan Kesatuan Kebangsaan Juruteknologi Makmal Perubatan</h2>
                    <i class="fas fa-plus transition-transform duration-300"></i>
                </button>
                <div class="accordion-content">
                    <div class="p-5 pt-0 text-gray-700">
                        <p>Join us as we exchange vows and begin our new journey together. The ceremony will take place in the beautiful garden, surrounded by nature. Please arrive at least 15 minutes early to find your seat.</p>
                        <p class="mt-2"><strong>Time:</strong> 2:00 PM</p>
                        <p><strong>Location:</strong> The Grand Garden Venue</p>
                    </div>
                </div>
            </div>

            <!-- Accordion Item 2 -->
            <div class="accordion-item frosted-glass rounded-xl overflow-hidden">
                <button class="accordion-header w-full flex justify-between items-center p-5 text-left">
                    <h2 class="text-xl font-semibold text-gray-800">Kursus : STRATEGI & SOLIDARITI: MEMPERKUAT KESATUAN UNTUK MASA DEPAN</h2>
                    <i class="fas fa-plus transition-transform duration-300"></i>
                </button>
                <div class="accordion-content">
                     <div class="p-5 pt-0 text-gray-700">
                        <p>Let's celebrate! Following the ceremony, please join us for an evening of dinner, drinks, and dancing. Get ready to have a great time and create some wonderful memories with us.</p>
                        <p class="mt-2"><strong>Time:</strong> 5:00 PM onwards</p>
                        <p><strong>Location:</strong> The Crystal Ballroom</p>
                    </div>
                </div>
            </div>

            <!-- Accordion Item 3 -->
            <div class="accordion-item frosted-glass rounded-xl overflow-hidden">
                <button class="accordion-header w-full flex justify-between items-center p-5 text-left">
                    <h2 class="text-xl font-semibold text-gray-800">Night Gala "The Kenduri"</h2>
                    <i class="fas fa-plus transition-transform duration-300"></i>
                </button>
                <div class="accordion-content">
                    <div class="p-5 pt-2">
                        <a href="https://anonviranon.github.io/bgm/" target="_blank" rel="noopener noreferrer" 
                           class="glowing-button block w-full bg-gradient-to-r from-pink-500 via-purple-600 to-black text-white font-bold py-3 px-4 rounded-lg text-center transition-transform hover:scale-105">
                            Enter The Kenduri
                        </a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bottom Icon Bar -->
    <footer class="fixed bottom-0 left-0 right-0 frosted-glass">
        <div class="max-w-md mx-auto flex justify-around items-center h-20">
            <!-- Navigation Icon -->
            <button id="nav-button" class="flex flex-col items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200">
                <i class="fas fa-map-location-dot text-2xl"></i>
                <span class="text-xs mt-1">Directions</span>
            </button>
            <!-- Tentative Icon -->
            <button id="tentative-button" class="flex flex-col items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200">
                <i class="fas fa-calendar-alt text-2xl"></i>
                <span class="text-xs mt-1">Tentative</span>
            </button>
            <!-- RSVP Icon -->
            <button id="rsvp-button" class="flex flex-col items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200">
                <i class="fas fa-envelope-open-text text-2xl"></i>
                <span class="text-xs mt-1">RSVP</span>
            </button>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Navigation Modal -->
    <div id="nav-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none modal-backdrop">
        <div class="frosted-glass rounded-xl w-full max-w-sm p-6 text-center modal-content transform scale-95 opacity-0">
            <h3 class="text-xl font-bold mb-4">Get Directions</h3>
            <p class="text-gray-600 mb-6">Open location in your favorite maps app.</p>
            <div class="space-y-3">
                <a href="https://maps.google.com/?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA" target="_blank" class="block w-full bg-blue-500 text-white font-semibold py-3 rounded-lg hover:bg-blue-600 transition-colors duration-200">Google Maps</a>
                <a href="https://waze.com/ul?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA" target="_blank" class="block w-full bg-cyan-500 text-white font-semibold py-3 rounded-lg hover:bg-cyan-600 transition-colors duration-200">Waze</a>
                <a href="https://maps.apple.com/?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA" target="_blank" class="block w-full bg-gray-800 text-white font-semibold py-3 rounded-lg hover:bg-gray-900 transition-colors duration-200">Apple Maps</a>
            </div>
            <button id="close-nav-modal" class="mt-6 text-gray-500 hover:text-gray-800">Close</button>
        </div>
    </div>

    <!-- RSVP Modal -->
    <div id="rsvp-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none modal-backdrop">
        <div class="frosted-glass rounded-xl w-full max-w-sm p-6 text-center modal-content transform scale-95 opacity-0">
            <h3 class="text-xl font-bold mb-4">RSVP for Events</h3>
            <p class="text-gray-600 mb-6">Please let us know if you can make it!</p>
            <div class="space-y-3">
                <!-- Replace '#' with your actual Google Sheet links -->
                <a href="#" target="_blank" class="block w-full bg-green-500 text-white font-semibold py-3 rounded-lg hover:bg-green-600 transition-colors duration-200">Welcome Dinner</a>
                <a href="#" target="_blank" class="block w-full bg-indigo-500 text-white font-semibold py-3 rounded-lg hover:bg-indigo-600 transition-colors duration-200">Main Event</a>
                <a href="#" target="_blank" class="block w-full bg-orange-500 text-white font-semibold py-3 rounded-lg hover:bg-orange-600 transition-colors duration-200">Farewell Brunch</a>
            </div>
            <button id="close-rsvp-modal" class="mt-6 text-gray-500 hover:text-gray-800">Close</button>
        </div>
    </div>

    <!-- Tentative Modal -->
    <div id="tentative-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none modal-backdrop">
        <div class="frosted-glass rounded-xl w-[90vw] h-[90vh] flex flex-col relative modal-content transform scale-95 opacity-0">
            <!-- Close button for the tentative modal -->
            <button id="close-tentative-modal" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900 z-10 bg-white/70 backdrop-blur-sm rounded-full w-8 h-8 flex items-center justify-center transition-colors">
                <i class="fas fa-times text-xl"></i>
            </button>
            <!-- Scrollable content area for the image -->
            <div class="flex-grow overflow-y-auto rounded-xl">
                <img src="assets/tentative.png" alt="Event Tentative" class="w-full h-auto" onerror="this.onerror=null;this.src='https://placehold.co/800x1600/e9e9e9/333?text=Event+Itinerary+Image';">
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Accordion Logic ---
            const accordionItems = document.querySelectorAll('.accordion-item');

            accordionItems.forEach(item => {
                const header = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                const icon = header.querySelector('i');

                header.addEventListener('click', () => {
                    const wasOpen = content.classList.contains('open');

                    // Close other open accordions
                    accordionItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            const otherContent = otherItem.querySelector('.accordion-content');
                            if (otherContent.classList.contains('open')) {
                                otherContent.classList.remove('open');
                                const otherIcon = otherItem.querySelector('.accordion-header i');
                                otherIcon.classList.remove('fa-minus');
                                otherIcon.classList.add('fa-plus');
                                otherIcon.style.transform = 'rotate(0deg)';
                            }
                        }
                    });

                    // Toggle current accordion
                    content.classList.toggle('open');
                    const isOpen = content.classList.contains('open');
                    icon.classList.toggle('fa-plus', !isOpen);
                    icon.classList.toggle('fa-minus', isOpen);
                    icon.style.transform = isOpen ? 'rotate(180deg)' : 'rotate(0deg)';

                    // If an item was just opened, intelligently scroll it into view
                    if (!wasOpen && isOpen) {
                        setTimeout(() => {
                            const itemRect = item.getBoundingClientRect();
                            const footer = document.querySelector('footer');
                            const footerHeight = footer ? footer.offsetHeight : 80;
                            const viewportHeight = window.innerHeight;

                            // Check if the bottom of the expanded item is below the top of the footer
                            if (itemRect.bottom > (viewportHeight - footerHeight)) {
                                const scrollAmount = itemRect.bottom - (viewportHeight - footerHeight) + 20; // 20px buffer
                                window.scrollBy({
                                    top: scrollAmount,
                                    behavior: 'smooth'
                                });
                            }
                        }, 350); // Delay to allow the CSS transition to begin
                    }
                });
            });

            // --- Modal Logic ---
            const navButton = document.getElementById('nav-button');
            const rsvpButton = document.getElementById('rsvp-button');
            const tentativeButton = document.getElementById('tentative-button');
            
            const navModal = document.getElementById('nav-modal');
            const rsvpModal = document.getElementById('rsvp-modal');
            const tentativeModal = document.getElementById('tentative-modal');
            
            const closeNavModal = document.getElementById('close-nav-modal');
            const closeRsvpModal = document.getElementById('close-rsvp-modal');
            const closeTentativeModal = document.getElementById('close-tentative-modal');

            const navModalContent = navModal.querySelector('.modal-content');
            const rsvpModalContent = rsvpModal.querySelector('.modal-content');
            const tentativeModalContent = tentativeModal.querySelector('.modal-content');

            function openModal(modal, content) {
                modal.classList.remove('pointer-events-none');
                modal.classList.add('opacity-100');
                modal.classList.remove('opacity-0');

                content.classList.add('scale-100', 'opacity-100');
                content.classList.remove('scale-95', 'opacity-0');
            }

            function closeModal(modal, content) {
                modal.classList.add('opacity-0');
                modal.classList.remove('opacity-100');
                modal.classList.add('pointer-events-none');

                content.classList.remove('scale-100', 'opacity-100');
                content.classList.add('scale-95', 'opacity-0');
            }

            // Event Listeners for opening modals
            navButton.addEventListener('click', () => openModal(navModal, navModalContent));
            rsvpButton.addEventListener('click', () => openModal(rsvpModal, rsvpModalContent));
            tentativeButton.addEventListener('click', () => openModal(tentativeModal, tentativeModalContent));

            // Event Listeners for closing modals
            closeNavModal.addEventListener('click', () => closeModal(navModal, navModalContent));
            closeRsvpModal.addEventListener('click', () => closeModal(rsvpModal, rsvpModalContent));
            closeTentativeModal.addEventListener('click', () => closeModal(tentativeModal, tentativeModalContent));

            // Close modal by clicking on the backdrop
            navModal.addEventListener('click', (e) => {
                if (e.target === navModal) {
                    closeModal(navModal, navModalContent);
                }
            });
            rsvpModal.addEventListener('click', (e) => {
                if (e.target === rsvpModal) {
                    closeModal(rsvpModal, rsvpModalContent);
                }
            });
            tentativeModal.addEventListener('click', (e) => {
                if (e.target === tentativeModal) {
                    closeModal(tentativeModal, tentativeModalContent);
                }
            });
        });
    </script>

</body>
</html>
